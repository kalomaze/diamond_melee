defaults:
  - _self_
  - env: melee
  - agent: melee
  - world_model_env: default

hydra:
  job:
    chdir: True

wandb:
  mode: online
  project: melee_test
  entity: kalomaze
  name: kalomaze
  group: kalomaze
  tags: null
  notes: null

initialization:
  path_to_ckpt: null
  load_denoiser: True

common:
  devices: 0  # int, list of int, cpu, or all 
  seed: null
  resume: False # do not modify, set by scripts/resume.sh only.

checkpointing:
  save_agent_every: 100
  num_to_keep: null  # number of checkpoints to keep, use null to disable

static_dataset:
  path: ${env.path_data_low_res}
  ignore_sample_weights: True

training:
  should: True
  num_final_epochs: 1000
  cache_in_ram: False
  num_workers_data_loaders: 1
  model_free: False # if True, turn off world_model training and RL in imagination
  compile_wm: False

evaluation:
  should: True
  every: 100

denoiser:
  training:
    num_autoregressive_steps: 3
    start_after_epochs: 0
    steps_first_epoch: 16
    steps_per_epoch: 16
    sample_weights: null
    batch_size: 1
    grad_acc_steps: 2
    lr_warmup_steps: 100
    max_grad_norm: 10.0

  optimizer:
    lr: 1e-4
    weight_decay: 1e-2
    eps: 1e-8
  
  sigma_distribution: # log normal distribution for sigma during training
    _target_: models.diffusion.SigmaDistributionConfig
    loc: -1.2
    scale: 1.2
    sigma_min: 2e-3
    sigma_max: 20


